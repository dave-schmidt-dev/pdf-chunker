graph TD
    A["ğŸ“„ Input: PDF File<br/>(up to 6 MB)"] --> B["ğŸ“Š Convert to Base64"]
    B --> C["ğŸ“¨ HTTP POST Request"]
    C --> D{"ğŸš¦ Rate Limit Check<br/>10 per hour per IP"}
    
    D -->|Exceeded| E["âŒ 429 Error<br/>Rate limit exceeded"]
    D -->|OK| F["ğŸ”“ Decode Base64"]
    
    F --> G["ğŸ“– PyPDF2.PdfReader<br/>Extract text from pages"]
    G --> H["ğŸ“ Raw Text<br/>~50,000 chars"]
    
    H --> I["ğŸ§¹ Text Cleaning"]
    I --> J["Remove extra spaces"]
    J --> K["Add paragraph breaks<br/>after sentences"]
    K --> L["Format speaker names"]
    L --> M["âœ¨ Cleaned Text"]
    
    M --> N{"ğŸ“ Split into Chunks<br/>20,000 char limit"}
    
    N --> O["ğŸ“„ Chunk 1<br/>20,000 chars"]
    N --> P["ğŸ“„ Chunk 2<br/>20,000 chars"]
    N --> Q["ğŸ“„ Chunk 3<br/>10,367 chars"]
    
    O --> R["ğŸ’¾ Output Options"]
    P --> R
    Q --> R
    
    R --> S["ğŸ“‹ Copy to Clipboard"]
    R --> T["â¬‡ï¸ Download as .txt"]
    R --> U["â˜ï¸ Save to S3"]
    
    style A fill:#e1f5ff
    style H fill:#fff3cd
    style M fill:#d4edda
    style O fill:#cfe2ff
    style P fill:#cfe2ff
    style Q fill:#cfe2ff
    style E fill:#f8d7da
    style D fill:#fff3cd
